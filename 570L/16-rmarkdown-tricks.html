<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>A Sufficient Introduction to R</title>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
  <meta name="description" content="These notes serve as an introduction to R, but certainly is not comprehensive. The intention is to teach students enought to be able to work with data frames and make graphs using ggplot2. I also cover a range of common data issues that PhD students often have to address.">
  <meta name="generator" content="bookdown 0.1.5 and GitBook 2.6.7">

  <meta property="og:title" content="A Sufficient Introduction to R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="These notes serve as an introduction to R, but certainly is not comprehensive. The intention is to teach students enought to be able to work with data frames and make graphs using ggplot2. I also cover a range of common data issues that PhD students often have to address." />
  <meta name="github-repo" content="dereksonderegger/STA_570L_Book" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="A Sufficient Introduction to R" />
  
  <meta name="twitter:description" content="These notes serve as an introduction to R, but certainly is not comprehensive. The intention is to teach students enought to be able to work with data frames and make graphs using ggplot2. I also cover a range of common data issues that PhD students often have to address." />
  

<meta name="author" content="Derek L. Sonderegger">

<meta name="date" content="2016-10-12">

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  TeX: { equationNumbers: { autoNumber: "AMS" } }
});
</script>

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="15-dates-and-times.html">


<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>


  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Sufficient Introduction to R</a></li>
<li><a href="https://dereksonderegger.github.io/570L/A_Sufficient_Introduction_to_R.pdf" target="blank">PDF version</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#r-as-a-simple-calculator"><i class="fa fa-check"></i><b>1.1</b> R as a simple calculator</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#assignment"><i class="fa fa-check"></i><b>1.2</b> Assignment</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#scripts-and-rmarkdown"><i class="fa fa-check"></i><b>1.3</b> Scripts and RMarkdown</a><ul>
<li class="chapter" data-level="1.3.1" data-path="index.html"><a href="index.html#r-scripts-.r-files"><i class="fa fa-check"></i><b>1.3.1</b> R Scripts (.R files)</a></li>
<li class="chapter" data-level="1.3.2" data-path="index.html"><a href="index.html#r-markdown-.rmd-files"><i class="fa fa-check"></i><b>1.3.2</b> R Markdown (.Rmd files)</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#packages"><i class="fa fa-check"></i><b>1.4</b> Packages</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#exercises"><i class="fa fa-check"></i><b>1.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="2-vectors.html"><a href="2-vectors.html"><i class="fa fa-check"></i><b>2</b> Vectors</a><ul>
<li class="chapter" data-level="2.1" data-path="2-vectors.html"><a href="2-vectors.html#accessing-vector-elements"><i class="fa fa-check"></i><b>2.1</b> Accessing Vector Elements</a></li>
<li class="chapter" data-level="2.2" data-path="2-vectors.html"><a href="2-vectors.html#scalar-functions-applied-to-vectors"><i class="fa fa-check"></i><b>2.2</b> Scalar Functions Applied to Vectors</a></li>
<li class="chapter" data-level="2.3" data-path="2-vectors.html"><a href="2-vectors.html#vector-algebra"><i class="fa fa-check"></i><b>2.3</b> Vector Algebra</a></li>
<li class="chapter" data-level="2.4" data-path="2-vectors.html"><a href="2-vectors.html#commonly-used-vector-functions"><i class="fa fa-check"></i><b>2.4</b> Commonly Used Vector Functions</a></li>
<li class="chapter" data-level="2.5" data-path="2-vectors.html"><a href="2-vectors.html#exercises-1"><i class="fa fa-check"></i><b>2.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="3-statistical-tables.html"><a href="3-statistical-tables.html"><i class="fa fa-check"></i><b>3</b> Statistical Tables</a><ul>
<li class="chapter" data-level="3.1" data-path="3-statistical-tables.html"><a href="3-statistical-tables.html#mosaicplotdist-function"><i class="fa fa-check"></i><b>3.1</b> <code>mosaic::plotDist()</code> function</a></li>
<li class="chapter" data-level="3.2" data-path="3-statistical-tables.html"><a href="3-statistical-tables.html#base-r-functions"><i class="fa fa-check"></i><b>3.2</b> Base R functions</a><ul>
<li class="chapter" data-level="3.2.1" data-path="3-statistical-tables.html"><a href="3-statistical-tables.html#d-function"><i class="fa fa-check"></i><b>3.2.1</b> d-function</a></li>
<li class="chapter" data-level="3.2.2" data-path="3-statistical-tables.html"><a href="3-statistical-tables.html#p-function"><i class="fa fa-check"></i><b>3.2.2</b> p-function</a></li>
<li class="chapter" data-level="3.2.3" data-path="3-statistical-tables.html"><a href="3-statistical-tables.html#q-function"><i class="fa fa-check"></i><b>3.2.3</b> <code>q</code>-function</a></li>
<li class="chapter" data-level="3.2.4" data-path="3-statistical-tables.html"><a href="3-statistical-tables.html#r-function"><i class="fa fa-check"></i><b>3.2.4</b> r-function</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="3-statistical-tables.html"><a href="3-statistical-tables.html#exercises-2"><i class="fa fa-check"></i><b>3.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="4-data-types.html"><a href="4-data-types.html"><i class="fa fa-check"></i><b>4</b> Data Types</a><ul>
<li class="chapter" data-level="4.1" data-path="4-data-types.html"><a href="4-data-types.html#integers-and-numerics"><i class="fa fa-check"></i><b>4.1</b> Integers and Numerics</a></li>
<li class="chapter" data-level="4.2" data-path="4-data-types.html"><a href="4-data-types.html#character-strings"><i class="fa fa-check"></i><b>4.2</b> Character Strings</a></li>
<li class="chapter" data-level="4.3" data-path="4-data-types.html"><a href="4-data-types.html#factors"><i class="fa fa-check"></i><b>4.3</b> Factors</a></li>
<li class="chapter" data-level="4.4" data-path="4-data-types.html"><a href="4-data-types.html#logicals"><i class="fa fa-check"></i><b>4.4</b> Logicals</a></li>
<li class="chapter" data-level="4.5" data-path="4-data-types.html"><a href="4-data-types.html#exercises-3"><i class="fa fa-check"></i><b>4.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="5-basic-graphing.html"><a href="5-basic-graphing.html"><i class="fa fa-check"></i><b>5</b> Basic Graphing</a><ul>
<li class="chapter" data-level="5.1" data-path="5-basic-graphing.html"><a href="5-basic-graphing.html#univariate-graphs"><i class="fa fa-check"></i><b>5.1</b> Univariate Graphs</a><ul>
<li class="chapter" data-level="5.1.1" data-path="5-basic-graphing.html"><a href="5-basic-graphing.html#histograms"><i class="fa fa-check"></i><b>5.1.1</b> Histograms</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="5-basic-graphing.html"><a href="5-basic-graphing.html#bivariate-plots"><i class="fa fa-check"></i><b>5.2</b> Bivariate Plots</a><ul>
<li class="chapter" data-level="5.2.1" data-path="5-basic-graphing.html"><a href="5-basic-graphing.html#boxplots"><i class="fa fa-check"></i><b>5.2.1</b> Boxplots</a></li>
<li class="chapter" data-level="5.2.2" data-path="5-basic-graphing.html"><a href="5-basic-graphing.html#scatterplots"><i class="fa fa-check"></i><b>5.2.2</b> Scatterplots</a></li>
<li class="chapter" data-level="5.2.3" data-path="5-basic-graphing.html"><a href="5-basic-graphing.html#arbitrary-curves"><i class="fa fa-check"></i><b>5.2.3</b> Arbitrary Curves</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="5-basic-graphing.html"><a href="5-basic-graphing.html#advanced-tricks"><i class="fa fa-check"></i><b>5.3</b> Advanced tricks</a><ul>
<li class="chapter" data-level="5.3.1" data-path="5-basic-graphing.html"><a href="5-basic-graphing.html#blank-plots"><i class="fa fa-check"></i><b>5.3.1</b> Blank plots</a></li>
<li class="chapter" data-level="5.3.2" data-path="5-basic-graphing.html"><a href="5-basic-graphing.html#points"><i class="fa fa-check"></i><b>5.3.2</b> Points</a></li>
<li class="chapter" data-level="5.3.3" data-path="5-basic-graphing.html"><a href="5-basic-graphing.html#lines"><i class="fa fa-check"></i><b>5.3.3</b> Lines</a></li>
<li class="chapter" data-level="5.3.4" data-path="5-basic-graphing.html"><a href="5-basic-graphing.html#contour-plots"><i class="fa fa-check"></i><b>5.3.4</b> Contour Plots</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="5-basic-graphing.html"><a href="5-basic-graphing.html#exercises-4"><i class="fa fa-check"></i><b>5.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="6-matrices-data-frames-and-lists.html"><a href="6-matrices-data-frames-and-lists.html"><i class="fa fa-check"></i><b>6</b> Matrices, Data Frames, and Lists</a><ul>
<li class="chapter" data-level="6.1" data-path="6-matrices-data-frames-and-lists.html"><a href="6-matrices-data-frames-and-lists.html#matrices"><i class="fa fa-check"></i><b>6.1</b> Matrices</a></li>
<li class="chapter" data-level="6.2" data-path="6-matrices-data-frames-and-lists.html"><a href="6-matrices-data-frames-and-lists.html#data-frames"><i class="fa fa-check"></i><b>6.2</b> Data Frames</a></li>
<li class="chapter" data-level="6.3" data-path="6-matrices-data-frames-and-lists.html"><a href="6-matrices-data-frames-and-lists.html#lists"><i class="fa fa-check"></i><b>6.3</b> Lists</a></li>
<li class="chapter" data-level="6.4" data-path="6-matrices-data-frames-and-lists.html"><a href="6-matrices-data-frames-and-lists.html#exercises-5"><i class="fa fa-check"></i><b>6.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="7-importing-data.html"><a href="7-importing-data.html"><i class="fa fa-check"></i><b>7</b> Importing Data</a><ul>
<li class="chapter" data-level="7.1" data-path="7-importing-data.html"><a href="7-importing-data.html#working-directory"><i class="fa fa-check"></i><b>7.1</b> Working directory</a></li>
<li class="chapter" data-level="7.2" data-path="7-importing-data.html"><a href="7-importing-data.html#comma-separated-data"><i class="fa fa-check"></i><b>7.2</b> Comma Separated Data</a></li>
<li class="chapter" data-level="7.3" data-path="7-importing-data.html"><a href="7-importing-data.html#ms-excel"><i class="fa fa-check"></i><b>7.3</b> MS Excel</a><ul>
<li class="chapter" data-level="7.3.1" data-path="7-importing-data.html"><a href="7-importing-data.html#libxls-bug"><i class="fa fa-check"></i><b>7.3.1</b> <code>libxls</code> bug</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="7-importing-data.html"><a href="7-importing-data.html#exercises-6"><i class="fa fa-check"></i><b>7.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="8-data-manipulation.html"><a href="8-data-manipulation.html"><i class="fa fa-check"></i><b>8</b> Data Manipulation</a><ul>
<li class="chapter" data-level="8.1" data-path="8-data-manipulation.html"><a href="8-data-manipulation.html#classical-functions-for-summarizing-rows-and-columns"><i class="fa fa-check"></i><b>8.1</b> Classical functions for summarizing rows and columns</a><ul>
<li class="chapter" data-level="8.1.1" data-path="8-data-manipulation.html"><a href="8-data-manipulation.html#summary"><i class="fa fa-check"></i><b>8.1.1</b> <code>summary()</code></a></li>
<li class="chapter" data-level="8.1.2" data-path="8-data-manipulation.html"><a href="8-data-manipulation.html#apply"><i class="fa fa-check"></i><b>8.1.2</b> <code>apply()</code></a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="8-data-manipulation.html"><a href="8-data-manipulation.html#package-dplyr"><i class="fa fa-check"></i><b>8.2</b> Package <code>dplyr</code></a><ul>
<li class="chapter" data-level="8.2.1" data-path="8-data-manipulation.html"><a href="8-data-manipulation.html#verbs"><i class="fa fa-check"></i><b>8.2.1</b> Verbs</a></li>
<li class="chapter" data-level="8.2.2" data-path="8-data-manipulation.html"><a href="8-data-manipulation.html#split-apply-combine"><i class="fa fa-check"></i><b>8.2.2</b> Split, apply, combine</a></li>
<li class="chapter" data-level="8.2.3" data-path="8-data-manipulation.html"><a href="8-data-manipulation.html#chaining-commands-together"><i class="fa fa-check"></i><b>8.2.3</b> Chaining commands together</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="8-data-manipulation.html"><a href="8-data-manipulation.html#exercises-7"><i class="fa fa-check"></i><b>8.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="9-data-reshaping.html"><a href="9-data-reshaping.html"><i class="fa fa-check"></i><b>9</b> Data Reshaping</a><ul>
<li class="chapter" data-level="9.1" data-path="9-data-reshaping.html"><a href="9-data-reshaping.html#tidyr"><i class="fa fa-check"></i><b>9.1</b> <code>tidyr</code></a><ul>
<li class="chapter" data-level="9.1.1" data-path="9-data-reshaping.html"><a href="9-data-reshaping.html#verbs-1"><i class="fa fa-check"></i><b>9.1.1</b> Verbs</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="9-data-reshaping.html"><a href="9-data-reshaping.html#exercises-8"><i class="fa fa-check"></i><b>9.2</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="10-graphing-using-ggplot2.html"><a href="10-graphing-using-ggplot2.html"><i class="fa fa-check"></i><b>10</b> Graphing using <code>ggplot2</code></a><ul>
<li class="chapter" data-level="10.1" data-path="10-graphing-using-ggplot2.html"><a href="10-graphing-using-ggplot2.html#basic-graphs"><i class="fa fa-check"></i><b>10.1</b> Basic Graphs</a><ul>
<li class="chapter" data-level="10.1.1" data-path="10-graphing-using-ggplot2.html"><a href="10-graphing-using-ggplot2.html#scatterplots-1"><i class="fa fa-check"></i><b>10.1.1</b> Scatterplots</a></li>
<li class="chapter" data-level="10.1.2" data-path="10-graphing-using-ggplot2.html"><a href="10-graphing-using-ggplot2.html#bar-charts"><i class="fa fa-check"></i><b>10.1.2</b> Bar Charts</a></li>
<li class="chapter" data-level="10.1.3" data-path="10-graphing-using-ggplot2.html"><a href="10-graphing-using-ggplot2.html#box-plots"><i class="fa fa-check"></i><b>10.1.3</b> Box Plots</a></li>
<li class="chapter" data-level="10.1.4" data-path="10-graphing-using-ggplot2.html"><a href="10-graphing-using-ggplot2.html#geometries-and-layers"><i class="fa fa-check"></i><b>10.1.4</b> Geometries and Layers</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="10-graphing-using-ggplot2.html"><a href="10-graphing-using-ggplot2.html#getting-fancy"><i class="fa fa-check"></i><b>10.2</b> Getting Fancy</a><ul>
<li class="chapter" data-level="10.2.1" data-path="10-graphing-using-ggplot2.html"><a href="10-graphing-using-ggplot2.html#bar-plot"><i class="fa fa-check"></i><b>10.2.1</b> Bar Plot</a></li>
<li class="chapter" data-level="10.2.2" data-path="10-graphing-using-ggplot2.html"><a href="10-graphing-using-ggplot2.html#histograms-1"><i class="fa fa-check"></i><b>10.2.2</b> Histograms</a></li>
<li class="chapter" data-level="10.2.3" data-path="10-graphing-using-ggplot2.html"><a href="10-graphing-using-ggplot2.html#adjusting-labels"><i class="fa fa-check"></i><b>10.2.3</b> Adjusting labels</a></li>
<li class="chapter" data-level="10.2.4" data-path="10-graphing-using-ggplot2.html"><a href="10-graphing-using-ggplot2.html#plotting-distributions"><i class="fa fa-check"></i><b>10.2.4</b> Plotting distributions</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="10-graphing-using-ggplot2.html"><a href="10-graphing-using-ggplot2.html#exercises-9"><i class="fa fa-check"></i><b>10.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="11-more-ggplot2.html"><a href="11-more-ggplot2.html"><i class="fa fa-check"></i><b>11</b> More <code>ggplot2</code></a><ul>
<li class="chapter" data-level="11.1" data-path="11-more-ggplot2.html"><a href="11-more-ggplot2.html#faceting"><i class="fa fa-check"></i><b>11.1</b> Faceting</a></li>
<li class="chapter" data-level="11.2" data-path="11-more-ggplot2.html"><a href="11-more-ggplot2.html#modifying-scales"><i class="fa fa-check"></i><b>11.2</b> Modifying Scales</a><ul>
<li class="chapter" data-level="11.2.1" data-path="11-more-ggplot2.html"><a href="11-more-ggplot2.html#log-scales"><i class="fa fa-check"></i><b>11.2.1</b> Log scales</a></li>
<li class="chapter" data-level="11.2.2" data-path="11-more-ggplot2.html"><a href="11-more-ggplot2.html#arbitrary-transformations"><i class="fa fa-check"></i><b>11.2.2</b> Arbitrary transformations</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="11-more-ggplot2.html"><a href="11-more-ggplot2.html#multi-plot"><i class="fa fa-check"></i><b>11.3</b> Multi-plot</a></li>
<li class="chapter" data-level="11.4" data-path="11-more-ggplot2.html"><a href="11-more-ggplot2.html#themes"><i class="fa fa-check"></i><b>11.4</b> Themes</a></li>
<li class="chapter" data-level="11.5" data-path="11-more-ggplot2.html"><a href="11-more-ggplot2.html#exercises-10"><i class="fa fa-check"></i><b>11.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="12-flow-control.html"><a href="12-flow-control.html"><i class="fa fa-check"></i><b>12</b> Flow Control</a><ul>
<li class="chapter" data-level="12.1" data-path="12-flow-control.html"><a href="12-flow-control.html#decision-statements"><i class="fa fa-check"></i><b>12.1</b> Decision statements</a></li>
<li class="chapter" data-level="12.2" data-path="12-flow-control.html"><a href="12-flow-control.html#loops"><i class="fa fa-check"></i><b>12.2</b> Loops</a><ul>
<li class="chapter" data-level="12.2.1" data-path="12-flow-control.html"><a href="12-flow-control.html#while-loops"><i class="fa fa-check"></i><b>12.2.1</b> <code>while</code> Loops</a></li>
<li class="chapter" data-level="12.2.2" data-path="12-flow-control.html"><a href="12-flow-control.html#for-loops"><i class="fa fa-check"></i><b>12.2.2</b> <code>for</code> Loops</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="12-flow-control.html"><a href="12-flow-control.html#exercises-11"><i class="fa fa-check"></i><b>12.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="13-user-defined-functions.html"><a href="13-user-defined-functions.html"><i class="fa fa-check"></i><b>13</b> User Defined Functions</a><ul>
<li class="chapter" data-level="13.1" data-path="13-user-defined-functions.html"><a href="13-user-defined-functions.html#basic-function-definition"><i class="fa fa-check"></i><b>13.1</b> Basic function definition</a></li>
<li class="chapter" data-level="13.2" data-path="13-user-defined-functions.html"><a href="13-user-defined-functions.html#parameter-defaults"><i class="fa fa-check"></i><b>13.2</b> Parameter Defaults</a></li>
<li class="chapter" data-level="13.3" data-path="13-user-defined-functions.html"><a href="13-user-defined-functions.html#ellipses"><i class="fa fa-check"></i><b>13.3</b> Ellipses</a></li>
<li class="chapter" data-level="13.4" data-path="13-user-defined-functions.html"><a href="13-user-defined-functions.html#function-overloading"><i class="fa fa-check"></i><b>13.4</b> Function Overloading</a></li>
<li class="chapter" data-level="13.5" data-path="13-user-defined-functions.html"><a href="13-user-defined-functions.html#scope"><i class="fa fa-check"></i><b>13.5</b> Scope</a></li>
<li class="chapter" data-level="13.6" data-path="13-user-defined-functions.html"><a href="13-user-defined-functions.html#exercises-12"><i class="fa fa-check"></i><b>13.6</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="14-string-manipulation.html"><a href="14-string-manipulation.html"><i class="fa fa-check"></i><b>14</b> String Manipulation</a><ul>
<li class="chapter" data-level="14.1" data-path="14-string-manipulation.html"><a href="14-string-manipulation.html#base-function"><i class="fa fa-check"></i><b>14.1</b> Base function</a></li>
<li class="chapter" data-level="14.2" data-path="14-string-manipulation.html"><a href="14-string-manipulation.html#package-stringr-basic-operations"><i class="fa fa-check"></i><b>14.2</b> Package <code>stringr</code>: basic operations</a><ul>
<li class="chapter" data-level="14.2.1" data-path="14-string-manipulation.html"><a href="14-string-manipulation.html#concatenating-with-str_c-or-str_join"><i class="fa fa-check"></i><b>14.2.1</b> Concatenating with <code>str_c()</code> or <code>str_join()</code></a></li>
<li class="chapter" data-level="14.2.2" data-path="14-string-manipulation.html"><a href="14-string-manipulation.html#calculating-string-length-with-str_length"><i class="fa fa-check"></i><b>14.2.2</b> Calculating string length with <code>str_length()</code></a></li>
<li class="chapter" data-level="14.2.3" data-path="14-string-manipulation.html"><a href="14-string-manipulation.html#extracting-substrings-with-str_sub"><i class="fa fa-check"></i><b>14.2.3</b> Extracting substrings with <code>str_sub()</code></a></li>
<li class="chapter" data-level="14.2.4" data-path="14-string-manipulation.html"><a href="14-string-manipulation.html#pad-a-string-with-str_pad"><i class="fa fa-check"></i><b>14.2.4</b> Pad a string with <code>str_pad()</code></a></li>
<li class="chapter" data-level="14.2.5" data-path="14-string-manipulation.html"><a href="14-string-manipulation.html#trim-a-string-with-str_trim"><i class="fa fa-check"></i><b>14.2.5</b> Trim a string with <code>str_trim()</code></a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="14-string-manipulation.html"><a href="14-string-manipulation.html#package-stringr-pattern-matching"><i class="fa fa-check"></i><b>14.3</b> Package <code>stringr</code>: Pattern Matching</a><ul>
<li class="chapter" data-level="14.3.1" data-path="14-string-manipulation.html"><a href="14-string-manipulation.html#detecting-a-pattern-using-str_detect"><i class="fa fa-check"></i><b>14.3.1</b> Detecting a pattern using str_detect()</a></li>
<li class="chapter" data-level="14.3.2" data-path="14-string-manipulation.html"><a href="14-string-manipulation.html#locating-a-pattern-using-str_locate"><i class="fa fa-check"></i><b>14.3.2</b> Locating a pattern using str_locate()</a></li>
<li class="chapter" data-level="14.3.3" data-path="14-string-manipulation.html"><a href="14-string-manipulation.html#replacing-substrings-using-str_replace"><i class="fa fa-check"></i><b>14.3.3</b> Replacing substrings using <code>str_replace()</code></a></li>
<li class="chapter" data-level="14.3.4" data-path="14-string-manipulation.html"><a href="14-string-manipulation.html#splitting-into-substrings-using-str_split"><i class="fa fa-check"></i><b>14.3.4</b> Splitting into substrings using <code>str_split()</code></a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="14-string-manipulation.html"><a href="14-string-manipulation.html#regular-expressions"><i class="fa fa-check"></i><b>14.4</b> Regular Expressions</a></li>
<li class="chapter" data-level="14.5" data-path="14-string-manipulation.html"><a href="14-string-manipulation.html#exercises-13"><i class="fa fa-check"></i><b>14.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="15-dates-and-times.html"><a href="15-dates-and-times.html"><i class="fa fa-check"></i><b>15</b> Dates and Times</a><ul>
<li class="chapter" data-level="15.1" data-path="15-dates-and-times.html"><a href="15-dates-and-times.html#creating-date-and-time-objects"><i class="fa fa-check"></i><b>15.1</b> Creating Date and Time objects</a></li>
<li class="chapter" data-level="15.2" data-path="15-dates-and-times.html"><a href="15-dates-and-times.html#extracting-information"><i class="fa fa-check"></i><b>15.2</b> Extracting information</a></li>
<li class="chapter" data-level="15.3" data-path="15-dates-and-times.html"><a href="15-dates-and-times.html#arithmetic-on-dates"><i class="fa fa-check"></i><b>15.3</b> Arithmetic on Dates</a></li>
<li class="chapter" data-level="15.4" data-path="15-dates-and-times.html"><a href="15-dates-and-times.html#exercises-14"><i class="fa fa-check"></i><b>15.4</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="16-rmarkdown-tricks.html"><a href="16-rmarkdown-tricks.html"><i class="fa fa-check"></i><b>16</b> Rmarkdown Tricks</a><ul>
<li class="chapter" data-level="16.1" data-path="16-rmarkdown-tricks.html"><a href="16-rmarkdown-tricks.html#mathematical-expressions"><i class="fa fa-check"></i><b>16.1</b> Mathematical expressions</a></li>
<li class="chapter" data-level="16.2" data-path="16-rmarkdown-tricks.html"><a href="16-rmarkdown-tricks.html#tables"><i class="fa fa-check"></i><b>16.2</b> Tables</a><ul>
<li class="chapter" data-level="16.2.1" data-path="16-rmarkdown-tricks.html"><a href="16-rmarkdown-tricks.html#simple-tables"><i class="fa fa-check"></i><b>16.2.1</b> Simple Tables</a></li>
<li class="chapter" data-level="16.2.2" data-path="16-rmarkdown-tricks.html"><a href="16-rmarkdown-tricks.html#grid-tables"><i class="fa fa-check"></i><b>16.2.2</b> Grid Tables</a></li>
<li class="chapter" data-level="16.2.3" data-path="16-rmarkdown-tricks.html"><a href="16-rmarkdown-tricks.html#pipe-tables"><i class="fa fa-check"></i><b>16.2.3</b> Pipe Tables</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="16-rmarkdown-tricks.html"><a href="16-rmarkdown-tricks.html#r-functions-to-produce-table-code."><i class="fa fa-check"></i><b>16.3</b> R functions to produce table code.</a><ul>
<li class="chapter" data-level="16.3.1" data-path="16-rmarkdown-tricks.html"><a href="16-rmarkdown-tricks.html#knitrkable"><i class="fa fa-check"></i><b>16.3.1</b> <code>knitr::kable</code></a></li>
<li class="chapter" data-level="16.3.2" data-path="16-rmarkdown-tricks.html"><a href="16-rmarkdown-tricks.html#package-pander"><i class="fa fa-check"></i><b>16.3.2</b> Package <code>pander</code></a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">A Sufficient Introduction to R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="rmarkdown-tricks" class="section level1">
<h1><span class="header-section-number">Chapter 16</span> Rmarkdown Tricks</h1>
<p>We have been using RMarkdown files to combine the analysis and discussion into one nice document that contains all the analysis steps so that your research is reproducible.</p>
<p>There are many resources on the web about Markdown and the variant that RStudio uses (called RMarkdown), but the easiest reference is to just use the RStudio help tab to access the help. I particular like <code>Help -&gt; Cheatsheets -&gt; RMarkdown Referece Guide</code> because it gives me the standard Markdown information but also a bunch of information about the options I can use to customize the behavior of individual R code chunks.</p>
<p>Two topics that aren’t covered in the RStudio help files are how to insert mathematical text symbols and how to produce decent looking tables without too much fuss.</p>
<p>Most of what is presented here isn’t primarily about how to use R, but rather how to work with tools in RMarkdown so that the final product is neat and tidy. While you could print out your RMarkdown file and then clean it up in MS Word, sometimes there is a good to want as nice a starting point as possible.</p>
<div id="mathematical-expressions" class="section level2">
<h2><span class="header-section-number">16.1</span> Mathematical expressions</h2>
<p>The primary way to insert a mathematical expression is to use a markup language called LaTeX. This is a very powerful system and it is what most Mathematicians use to write their documents. The downside is that there is a lot to learn. However, you can get most of what you need pretty easily.</p>
<p>For RMarkdown to recognize you are writting math using LaTeX, you need to enclose the LaTeX with dollar signs ($). Some examples of common LaTeX patterns are given below:</p>
<table>
<colgroup>
<col width="18%" />
<col width="23%" />
<col width="17%" />
<col width="19%" />
<col width="20%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">Goal</th>
<th align="center">LaTeX</th>
<th align="center">Output</th>
<th align="center">LaTeX</th>
<th align="center">Output</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">power</td>
<td align="center"><code>$x^2$</code></td>
<td align="center"><span class="math inline">\(x^2\)</span></td>
<td align="center"><code>$y^{0.95}$</code></td>
<td align="center"><span class="math inline">\(y^{0.95}\)</span></td>
</tr>
<tr class="even">
<td align="center">Subscript</td>
<td align="center"><code>$x_i$</code></td>
<td align="center"><span class="math inline">\(x_i\)</span></td>
<td align="center"><code>$t_{24}$</code></td>
<td align="center"><span class="math inline">\(t_{24}\)</span></td>
</tr>
<tr class="odd">
<td align="center">Greek</td>
<td align="center"><code>$\alpha$ $\beta$</code></td>
<td align="center"><span class="math inline">\(\alpha\)</span> <span class="math inline">\(\beta\)</span></td>
<td align="center"><code>$\theta$ $\Theta$</code></td>
<td align="center"><span class="math inline">\(\theta\)</span> <span class="math inline">\(\Theta\)</span></td>
</tr>
<tr class="even">
<td align="center">Bar</td>
<td align="center"><code>$\bar{x}$</code></td>
<td align="center"><span class="math inline">\(\bar{x}\)</span></td>
<td align="center"><code>$\bar{mu}_i$</code></td>
<td align="center"><span class="math inline">\(\bar{\mu}_i\)</span></td>
</tr>
<tr class="odd">
<td align="center">Hat</td>
<td align="center"><code>$\hat{mu}$</code></td>
<td align="center"><span class="math inline">\(\hat{\mu}\)</span></td>
<td align="center"><code>$\hat{y}_i$</code></td>
<td align="center"><span class="math inline">\(\hat{y}_i\)</span></td>
</tr>
<tr class="even">
<td align="center">Star</td>
<td align="center"><code>$y^*$</code></td>
<td align="center"><span class="math inline">\(y^*\)</span></td>
<td align="center"><code>$\hat{\mu}^*_i$</code></td>
<td align="center"><span class="math inline">\(\hat{\mu}^*_i\)</span></td>
</tr>
<tr class="odd">
<td align="center">Centered Dot</td>
<td align="center"><code>$\cdot$</code></td>
<td align="center"><span class="math inline">\(\cdot\)</span></td>
<td align="center"><code>$\bar{y}_{i\cdot}$</code></td>
<td align="center"><span class="math inline">\(\bar{y}_{i\cdot}\)</span></td>
</tr>
<tr class="even">
<td align="center">Sum</td>
<td align="center"><code>$\sum x_i$</code></td>
<td align="center"><span class="math inline">\(\sum x_i\)</span></td>
<td align="center"><code>$\sum_{i=0}^N x_i$</code></td>
<td align="center"><span class="math inline">\(\sum_{i=0}^N x_i\)</span></td>
</tr>
<tr class="odd">
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr class="even">
<td align="center">Square Root</td>
<td align="center"><code>$\sqrt{a}$</code></td>
<td align="center"><span class="math inline">\(\sqrt{a}\)</span></td>
<td align="center"><code>$\sqrt{a^2 + b^2}$</code></td>
<td align="center"><span class="math inline">\(\sqrt{a^2 + b^2}\)</span></td>
</tr>
<tr class="odd">
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr class="even">
<td align="center">Fractions</td>
<td align="center"><code>$\frac{a}{b}$</code></td>
<td align="center"><span class="math inline">\(\frac{a}{b}\)</span></td>
<td align="center"><code>$\frac{x_i - \bar{x}{s/\sqrt{n}$</code></td>
<td align="center"><span class="math inline">\(\frac{x_i - \bar{x}}{s/\sqrt{n}}\)</span></td>
</tr>
</tbody>
</table>
<p>Within your RMarkdown document, you can include LaTeX code by enclosing it with dollar signs. So you might write <code>$\alpha=0.05$</code> in your text, but after it is knitted to a pdf, html, or Word, you’ll see <span class="math inline">\(\alpha=0.05\)</span>. If you want your mathematical equation to be on its own line, all by itself, enclose it with double dollar signs. So</p>
<p><code>$$z_i = \frac{z_i-\bar{x}}{\sigma / \sqrt{n}}$$</code></p>
<p>would be displayed as</p>
<p><span class="math display">\[ z_{i}=\frac{x_{i}-\bar{X}}{\sigma/\sqrt{n}} \]</span></p>
<p>Unfortunately RMarkdown is a little picky about spaces near the $ and $$ signs and you can’t have any spaces between them and the LaTeX command. For a more information about all the different symbols you can use, google ‘LaTeX math symbols’.</p>
</div>
<div id="tables" class="section level2">
<h2><span class="header-section-number">16.2</span> Tables</h2>
<p>For the following descriptions of the simple, grid, and pipe tables, I’ve shamelessly stolen from the Pandoc documentation. [<a href="http://pandoc.org/README.html#tables" class="uri">http://pandoc.org/README.html#tables</a>]</p>
<p>One way to print a table is to just print in in R and have the table presented in the code chunk. For example, suppose I want to print out the first 4 rows of the trees dataset.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">data &lt;-<span class="st"> </span>trees[<span class="dv">1</span>:<span class="dv">4</span>, ]
data</code></pre></div>
<pre><code>##   Girth Height Volume
## 1   8.3     70   10.3
## 2   8.6     65   10.3
## 3   8.8     63   10.2
## 4  10.5     72   16.4</code></pre>
<p>Usually this is sufficient, but suppose you want something a bit nicer because you are generating tables regularly and you don’t want to have to clean them up by hand. Tables in RMarkdown follow the table conventions from the Markdown class with a few minor exceptions. Markdown provides 4 ways to define a table and RMarkdown supports 3 of those.</p>
<div id="simple-tables" class="section level3">
<h3><span class="header-section-number">16.2.1</span> Simple Tables</h3>
<p>Simple tables look like this (Notice I don’t wrap these dollar signs or anything, just a blank line above and below the table):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Right   Left     Center   Default 
-------<span class="st"> </span>------<span class="st"> </span>----------<span class="st"> </span>-------<span class="st"> </span>
<span class="st">     </span><span class="dv">12</span> <span class="dv">12</span>        hmmm        <span class="dv">12</span> 
    <span class="dv">123</span> <span class="dv">123</span>        <span class="dv">123</span>       <span class="dv">123</span> 
      <span class="dv">1</span> <span class="dv">1</span>            <span class="dv">1</span>         <span class="dv">1</span></code></pre></div>
<p>and would be rendered like this:</p>
<table>
<thead>
<tr class="header">
<th align="left">Right</th>
<th align="left">Left</th>
<th align="center">Center</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">12</td>
<td align="left">12</td>
<td align="center">hmmm</td>
<td>12</td>
</tr>
<tr class="even">
<td align="left">123</td>
<td align="left">123</td>
<td align="center">123</td>
<td>123</td>
</tr>
<tr class="odd">
<td align="left">1</td>
<td align="left">1</td>
<td align="center">1</td>
<td>1</td>
</tr>
</tbody>
</table>
<p>The headers and table rows must each fit on one line. Column alignments are determined by the position of the header text relative to the dashed line below it.</p>
<p>If the dashed line is flush with the header text on the right side but extends beyond it on the left, the column is right-aligned. If the dashed line is flush with the header text on the left side but extends beyond it on the right, the column is left-aligned. If the dashed line extends beyond the header text on both sides, the column is centered. If the dashed line is flush with the header text on both sides, the default alignment is used (in most cases, this will be left). The table must end with a blank line, or a line of dashes followed by a blank line.</p>
</div>
<div id="grid-tables" class="section level3">
<h3><span class="header-section-number">16.2.2</span> Grid Tables</h3>
<p>Grid tables are a little more flexible and each cell can take an arbitrary Markdown block elements (such as lists).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">+---------------+---------------+--------------------+
<span class="er">|</span><span class="st"> </span>Fruit         |<span class="st"> </span>Price         |<span class="st"> </span>Advantages         |
+<span class="er">===============</span>+<span class="er">===============</span>+<span class="er">====================</span>+
<span class="er">|</span><span class="st"> </span>Bananas       |<span class="st"> </span><span class="er">$</span><span class="fl">1.34</span>         |<span class="st"> </span>-<span class="st"> </span>built-in wrapper |
<span class="er">|</span><span class="st">               </span><span class="er">|</span><span class="st">               </span><span class="er">|</span><span class="st"> </span>-<span class="st"> </span>bright color     |
+---------------+---------------+--------------------+
<span class="er">|</span><span class="st"> </span>Oranges       |<span class="st"> </span><span class="er">$</span><span class="fl">2.10</span>         |<span class="st"> </span>-<span class="st"> </span>cures scurvy     |
<span class="er">|</span><span class="st">               </span><span class="er">|</span><span class="st">               </span><span class="er">|</span><span class="st"> </span>-<span class="st"> </span>tasty            |
+---------------+---------------+--------------------+</code></pre></div>
<p>which is rendered as the following:</p>
<table style="width:74%;">
<colgroup>
<col width="22%" />
<col width="22%" />
<col width="29%" />
</colgroup>
<thead>
<tr class="header">
<th>Fruit</th>
<th>Price</th>
<th>Advantages</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p>Bananas</p></td>
<td><p>$1.34</p></td>
<td><ul>
<li>built-in wrapper</li>
<li>bright color</li>
</ul></td>
</tr>
<tr class="even">
<td><p>Oranges</p></td>
<td><p>$2.10</p></td>
<td><ul>
<li>cures scurvy</li>
<li>tasty</li>
</ul></td>
</tr>
</tbody>
</table>
<p>Grid table doesn’t support Left/Center/Right alignment. Both Simple tables and Grid tables require you to format the blocks nicely inside the RMarkdown file and that can be a bit annoying if something changes and you have to fix the spacing in the rest of the table. Both Simple and Grid tables don’t require column headers.</p>
</div>
<div id="pipe-tables" class="section level3">
<h3><span class="header-section-number">16.2.3</span> Pipe Tables</h3>
<p>Pipe tables look quite simimlar to grid tables but Markdown isn’t as picky about the pipes lining up. However, it does require a header row (which you could leave the elements blank in).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">|<span class="st"> </span>Right |<span class="st"> </span>Left |<span class="st"> </span>Default |<span class="st"> </span>Center |
<span class="er">|</span>------<span class="er">:|:</span>-----<span class="er">|</span>---------<span class="er">|:</span>------<span class="er">:|</span>
<span class="er">|</span><span class="st">   </span><span class="dv">12</span>  |<span class="st">  </span><span class="dv">12</span>  |<span class="st">    </span><span class="dv">12</span>   |<span class="st">    </span><span class="dv">12</span>  |
<span class="er">|</span><span class="st">  </span><span class="dv">123</span>  |<span class="st">  </span><span class="dv">123</span> |<span class="st">   </span><span class="dv">123</span>   |<span class="st">   </span><span class="dv">123</span>  |
<span class="er">|</span><span class="st">    </span><span class="dv">1</span>  |<span class="st">    </span><span class="dv">1</span> |<span class="st">     </span><span class="dv">1</span>   |<span class="st">     </span><span class="dv">1</span>  |</code></pre></div>
<p>which will render as the following:</p>
<table>
<thead>
<tr class="header">
<th align="right">Right</th>
<th align="left">Left</th>
<th>Default</th>
<th align="center">Center</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">12</td>
<td align="left">12</td>
<td>12</td>
<td align="center">12</td>
</tr>
<tr class="even">
<td align="right">123</td>
<td align="left">123</td>
<td>123</td>
<td align="center">123</td>
</tr>
<tr class="odd">
<td align="right">1</td>
<td align="left">1</td>
<td>1</td>
<td align="center">1</td>
</tr>
</tbody>
</table>
<p>In general I prefer to use the pipe tables because it seems a little less picky about getting everything correct. However it is still pretty annoying to get the table laid out correctly.</p>
<p>In all of these tables, you can use the regular RMarkdown formating tricks for italicising and bolding. So I could have a table such as the following:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">|<span class="st">   </span>Source    |<span class="st">  </span>df  |<span class="st">   </span>Sum of Sq   |<span class="st">    </span>Mean Sq    |<span class="st">    </span>F   |<span class="st">  </span><span class="er">$</span><span class="kw">Pr</span>(&gt;F_{<span class="dv">1</span>,<span class="dv">29</span>})$<span class="st">    </span><span class="er">|</span>
<span class="er">|:</span>------------<span class="er">|</span>-----<span class="er">:|</span>--------------<span class="er">:|</span>--------------<span class="er">:|</span>-------<span class="er">:|</span>--------------------<span class="er">:|</span>
<span class="er">|</span><span class="st">  </span>Girth      |<span class="st">  </span><span class="er">*</span><span class="dv">1</span>*<span class="st"> </span><span class="er">|</span><span class="st">  </span><span class="fl">7581.8</span>       |<span class="st">  </span><span class="fl">7581.8</span>       |<span class="st"> </span><span class="fl">419.26</span> |<span class="st">  </span><span class="er">**&lt;</span><span class="st"> </span><span class="fl">2.2e-16</span>**<span class="st">      </span><span class="er">|</span>
<span class="er">|</span><span class="st">  </span>Residual   |<span class="st">  </span><span class="dv">29</span>  |<span class="st">  </span><span class="fl">524.3</span>        |<span class="st">   </span><span class="fl">18.1</span>        |<span class="st">        </span><span class="er">|</span><span class="st">                     </span><span class="er">|</span></code></pre></div>
<p>and have it look like this:</p>
<table>
<thead>
<tr class="header">
<th align="left">Source</th>
<th align="right">df</th>
<th align="right">Sum of Sq</th>
<th align="right">Mean Sq</th>
<th align="right">F</th>
<th align="right"><span class="math inline">\(Pr(&gt;F_{1,29})\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Girth</td>
<td align="right"><em>1</em></td>
<td align="right">7581.8</td>
<td align="right">7581.8</td>
<td align="right">419.26</td>
<td align="right"><strong>&lt; 2.2e-16</strong></td>
</tr>
<tr class="even">
<td align="left">Residual</td>
<td align="right">29</td>
<td align="right">524.3</td>
<td align="right">18.1</td>
<td align="right"></td>
<td align="right"></td>
</tr>
</tbody>
</table>
<p>The problem with all of this is that I don’t want to create these by hand. Instead I would like functions that take a data frame or matrix and spit out the RMarkdown code for the table.</p>
</div>
</div>
<div id="r-functions-to-produce-table-code." class="section level2">
<h2><span class="header-section-number">16.3</span> R functions to produce table code.</h2>
<p>There are a couple of different packages that convert a data frame to simple/grid/pipe table. We will explore a couple of these, starting with the most basic and moving to the more complicated. The general idea is that we’ll produce the appropriate simple/grid/pipe table syntax in R, and when it gets knitted, then RMarkdown will turn our simple/grid/pipe table into something pretty.</p>
<div id="knitrkable" class="section level3">
<h3><span class="header-section-number">16.3.1</span> <code>knitr::kable</code></h3>
<p>The <code>knitr</code> package includes a function that produces simple tables. It doesn’t have much customizability, but it gets the job done.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># in this code chunk, I&#39;ve used the &quot;results=&#39;hold&#39;&quot; option to prevent</span>
<span class="co"># the RMarkdown processor from turning this into something pretty</span>
knitr::<span class="kw">kable</span>( data )</code></pre></div>
<pre><code>## 
## 
##  Girth   Height   Volume
## ------  -------  -------
##    8.3       70     10.3
##    8.6       65     10.3
##    8.8       63     10.2
##   10.5       72     16.4</code></pre>
<p>which, if I don’t prevent the RMarkdown processor from doing its job, will get rendered as such:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">knitr::<span class="kw">kable</span>( data )</code></pre></div>
<table>
<thead>
<tr class="header">
<th align="right">Girth</th>
<th align="right">Height</th>
<th align="right">Volume</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">8.3</td>
<td align="right">70</td>
<td align="right">10.3</td>
</tr>
<tr class="even">
<td align="right">8.6</td>
<td align="right">65</td>
<td align="right">10.3</td>
</tr>
<tr class="odd">
<td align="right">8.8</td>
<td align="right">63</td>
<td align="right">10.2</td>
</tr>
<tr class="even">
<td align="right">10.5</td>
<td align="right">72</td>
<td align="right">16.4</td>
</tr>
</tbody>
</table>
</div>
<div id="package-pander" class="section level3">
<h3><span class="header-section-number">16.3.2</span> Package <code>pander</code></h3>
<p>The package <code>pander</code> seems to be a nice compromise between customization and not having to learn too much. It is relatively powerful in that it will take <code>summary()</code> and <code>anova()</code> output and produce tables for them. By default <code>pander</code> will produce simple tables, but you can ask for Grid or Pipe tables.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(pander)
<span class="kw">pander</span>( data, <span class="dt">style=</span><span class="st">&#39;rmarkdown&#39;</span> )   <span class="co"># style is pipe tables...</span></code></pre></div>
<pre><code>## 
## 
## |  Girth  |  Height  |  Volume  |
## |:-------:|:--------:|:--------:|
## |   8.3   |    70    |   10.3   |
## |   8.6   |    65    |   10.3   |
## |   8.8   |    63    |   10.2   |
## |  10.5   |    72    |   16.4   |</code></pre>
<p>The <code>pander</code> package deals with summary and anova tables from a variety of different analyses. So you can simply ask for a nice looking version using the following:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">model &lt;-<span class="st"> </span><span class="kw">lm</span>( Volume ~<span class="st"> </span>Girth, <span class="dt">data=</span>trees )    <span class="co"># a simple regression</span>
<span class="kw">pander</span>( <span class="kw">summary</span>(model) )    <span class="co"># my usual summary table</span></code></pre></div>
<table style="width:86%;">
<colgroup>
<col width="25%" />
<col width="15%" />
<col width="18%" />
<col width="13%" />
<col width="13%" />
</colgroup>
<thead>
<tr class="header">
<th align="center"> </th>
<th align="center">Estimate</th>
<th align="center">Std. Error</th>
<th align="center">t value</th>
<th align="center">Pr(&gt;|t|)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center"><strong>Girth</strong></td>
<td align="center">5.066</td>
<td align="center">0.2474</td>
<td align="center">20.48</td>
<td align="center">8.644e-19</td>
</tr>
<tr class="even">
<td align="center"><strong>(Intercept)</strong></td>
<td align="center">-36.94</td>
<td align="center">3.365</td>
<td align="center">-10.98</td>
<td align="center">7.621e-12</td>
</tr>
</tbody>
</table>
<table style="width:85%;">
<caption>Fitting linear model: Volume ~ Girth</caption>
<colgroup>
<col width="20%" />
<col width="30%" />
<col width="11%" />
<col width="22%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">Observations</th>
<th align="center">Residual Std. Error</th>
<th align="center"><span class="math inline">\(R^2\)</span></th>
<th align="center">Adjusted <span class="math inline">\(R^2\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">31</td>
<td align="center">4.252</td>
<td align="center">0.9353</td>
<td align="center">0.9331</td>
</tr>
</tbody>
</table>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">pander</span>( <span class="kw">anova</span>( model ) )    <span class="co"># my usual anova table</span></code></pre></div>
<table style="width:83%;">
<caption>Analysis of Variance Table</caption>
<colgroup>
<col width="22%" />
<col width="6%" />
<col width="12%" />
<col width="13%" />
<col width="13%" />
<col width="13%" />
</colgroup>
<thead>
<tr class="header">
<th align="center"> </th>
<th align="center">Df</th>
<th align="center">Sum Sq</th>
<th align="center">Mean Sq</th>
<th align="center">F value</th>
<th align="center">Pr(&gt;F)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center"><strong>Girth</strong></td>
<td align="center">1</td>
<td align="center">7582</td>
<td align="center">7582</td>
<td align="center">419.4</td>
<td align="center">8.644e-19</td>
</tr>
<tr class="even">
<td align="center"><strong>Residuals</strong></td>
<td align="center">29</td>
<td align="center">524.3</td>
<td align="center">18.08</td>
<td align="center">NA</td>
<td align="center">NA</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>









            </section>

          </div>
        </div>
      </div>
<a href="15-dates-and-times.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>


<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/dereksonderegger/STA_570L_Book/raw/master/20_RMarkdownTricks.Rmd",
"text": null
},
"download": null,
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    if (location.protocol !== "file:" && /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, '');
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
